"use strict";(()=>{var t={};t.id=221,t.ids=[221],t.modules={2934:t=>{t.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:t=>{t.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:t=>{t.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5766:(t,e,r)=>{r.r(e),r.d(e,{headerHooks:()=>h,originalPathname:()=>x,patchFetch:()=>j,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>m});var o={};r.r(o),r.d(o,{POST:()=>c});var a=r(5419),n=r(9108),i=r(9678),s=r(7439),u=r(8070);async function c(t,{params:e}){let r;let o=s.cookies().get("lt_token")?.value;if(!o)return u.Z.json({error:"Unauthorized"},{status:401});let a="http://localhost:3001";if(!a)return u.Z.json({error:"API base URL is not configured."},{status:500});try{r=await t.json()}catch(t){return u.Z.json({error:"Invalid JSON payload."},{status:400})}let{amount:n}="object"==typeof r&&null!==r?r:{amount:void 0};if("number"!=typeof n)return u.Z.json({error:'The "amount" field must be a number.'},{status:400});try{let t=await fetch(`${a}/organizations/${e.organizationId}/credits`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({amount:n})}),r=await t.json().catch(()=>t.ok?{}:{error:"Unexpected API response."});return u.Z.json(r,{status:t.status})}catch(t){return console.warn("Failed to proxy credit top-up",t),u.Z.json({error:"Unable to reach the API."},{status:502})}}let d=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/organizations/[organizationId]/credits/route",pathname:"/api/organizations/[organizationId]/credits",filename:"route",bundlePath:"app/api/organizations/[organizationId]/credits/route"},resolvedPagePath:"/Users/rizkyakbar/Projects/mine/LoadTest/load-test-client/app/api/organizations/[organizationId]/credits/route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:p,staticGenerationAsyncStorage:l,serverHooks:g,headerHooks:h,staticGenerationBailout:m}=d,x="/api/organizations/[organizationId]/credits/route";function j(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:l})}}};var e=require("../../../../../webpack-runtime.js");e.C(t);var r=t=>e(e.s=t),o=e.X(0,[638,439,206],()=>r(5766));module.exports=o})();