(()=>{var e={};e.id=755,e.ids=[755],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5343:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>i});var a=s(482),r=s(9108),l=s(2563),n=s.n(l),d=s(8300),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);s.d(t,o);let i=["",{children:["(dashboard)",{children:["tasks",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2974)),"/Users/rizkyakbar/Projects/mine/LoadTest/load-test-client/app/(dashboard)/tasks/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8519)),"/Users/rizkyakbar/Projects/mine/LoadTest/load-test-client/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"/Users/rizkyakbar/Projects/mine/LoadTest/load-test-client/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/rizkyakbar/Projects/mine/LoadTest/load-test-client/app/(dashboard)/tasks/page.tsx"],u="/(dashboard)/tasks/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/tasks/page",pathname:"/tasks",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},3924:(e,t,s)=>{Promise.resolve().then(s.bind(s,7340))},7340:(e,t,s)=>{"use strict";s.r(t),s.d(t,{TasksBoard:()=>b});var a=s(5344),r=s(3729),l=s(8428),n=s(5094),d=s(3673),o=s(6540),i=s(7361),c=s(9591),u=s(6813);let m=["SMOKE","STRESS","SOAK","SPIKE","CUSTOM"],x=["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS"],h={SMOKE:30,STRESS:60,SOAK:120,SPIKE:20,CUSTOM:60},p=e=>{let t=Math.max(0,e);return{minutes:String(Math.floor(t/60)),seconds:String(t%60)}},g=()=>({label:"",targetUrl:"",mode:"SMOKE",scheduleAt:"",method:"GET",payload:"",customVus:String(20),durationMinutes:p(h.SMOKE).minutes,durationSeconds:p(h.SMOKE).seconds,headers:[{key:"",value:""}],showAdvanced:!1});function b({organizations:e,currentUser:t,initialOrganizationId:s,initialProjectId:b}){let j=(0,l.useRouter)(),[f,y]=(0,r.useState)(s??e[0]?.id??null),[v,k]=(0,r.useState)([]),[N,w]=(0,r.useState)(b??null),[S,C]=(0,r.useState)([]),[T,M]=(0,r.useState)({}),[P,O]=(0,r.useState)({}),[U,$]=(0,r.useState)(null),[A,_]=(0,r.useState)(null),[E,I]=(0,r.useState)(null),[R,z]=(0,r.useState)(!1),[q,J]=(0,r.useState)(!1),F=(0,r.useRef)(b??null),Y=(0,r.useMemo)(()=>t?.role==="ADMINISTRATOR"||t?.role==="OWNER",[t]),K=(0,r.useMemo)(()=>e.find(e=>e.id===f)??null,[e,f]),L=(0,r.useMemo)(()=>!!K&&K.credits>=u.a,[K]),D=(0,r.useMemo)(()=>!!K&&K.credits>=u.YK,[K]),Z=(0,r.useCallback)(e=>P[e]??g(),[P]),H=(0,r.useCallback)((e,t)=>{O(s=>{let a=s[e]??g();return{...s,[e]:t(a)}})},[]),V=(0,r.useCallback)((e,t,s)=>{H(e,e=>{if("mode"===t){let{minutes:t,seconds:a}=p(h[s]??h.SMOKE);return{...e,mode:s,durationMinutes:t,durationSeconds:a}}return{...e,[t]:s}})},[H]),G=(0,r.useCallback)(async e=>{z(!0),I(null);try{let t=await fetch(`/api/organizations/${e}/projects`,{cache:"no-store"});if(!t.ok){let e=await t.json().catch(()=>({}));I(e.error??"Unable to load projects."),k([]),w(null);return}let s=await t.json();k(s),w(e=>{let t=F.current??e;return t&&s.some(e=>e.id===t)?(F.current=null,t):(F.current=null,s[0]?.id??null)})}catch(e){console.warn("Failed to load projects",e),I("Unexpected error loading projects."),k([]),w(null)}finally{z(!1)}},[]),B=(0,r.useCallback)(async e=>{J(!0),I(null);try{let t=await fetch(`/api/projects/${e}/tasks`,{cache:"no-store"});if(!t.ok){let e=await t.json().catch(()=>({}));I(e.error??"Unable to load tasks."),C([]),M({});return}let s=await t.json();C(s);let a={};await Promise.all(s.map(async t=>{let s=await fetch(`/api/projects/${e}/tasks/${t.id}/reports`,{cache:"no-store"});if(!s.ok){let e=await s.json().catch(()=>({}));I(t=>t??e.error??"Unable to load task reports."),a[t.id]=[];return}a[t.id]=await s.json()})),M(a)}catch(e){console.warn("Failed to load tasks",e),I("Unexpected error loading tasks."),C([]),M({})}finally{J(!1)}},[]);(0,r.useEffect)(()=>{if(!f){k([]),w(null);return}G(f)},[f,G]),(0,r.useEffect)(()=>{if(!N){C([]),M({});return}B(N)},[N,B]);let W=e=>"number"==typeof e?`${e.toFixed(2)}ms`:"—",X=e=>async t=>{if(t.preventDefault(),!f){I("Select an organization before creating tasks.");return}let s=Z(e),a=s.headers.filter(e=>e.key.trim()).map(e=>({key:e.key.trim(),value:e.value})),r="CUSTOM"===s.mode&&s.customVus.trim()?Number(s.customVus):void 0,l="CUSTOM"===s.mode?(()=>{let e=Number(s.durationMinutes),t=Number(s.durationSeconds),a=Number.isFinite(e)&&e>0?Math.floor(e):0,r=Number.isFinite(t)?Math.floor(t):0,l=60*a+(r=Math.min(Math.max(r,0),59));return l>0?l:h.CUSTOM})():h[s.mode]??h.SMOKE;if(_(null),I(null),!L){I(`Insufficient credits. Creating a task costs ${u.a} credits.`);return}try{let t=await fetch(`/api/projects/${e}/tasks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({label:s.label.trim(),targetUrl:s.targetUrl.trim(),mode:s.mode,scheduleAt:s.scheduleAt.trim()||void 0,method:s.method.toUpperCase(),headers:a.length>0?a:void 0,payload:s.payload.trim()||void 0,customVus:Number.isFinite(r??NaN)&&(r??0)>0?r:void 0,durationSeconds:l})});if(!t.ok){let e=await t.json().catch(()=>({}));I(e.error??"Failed to create task.");return}O(t=>({...t,[e]:g()})),_("Task created. Refreshing tasks…"),await B(e),j.refresh()}catch(e){console.warn("Task creation failed",e),I("Unexpected error creating task.")}},Q=(0,r.useCallback)(e=>{let t=Object.entries(e.headers&&"object"==typeof e.headers?e.headers:{}),s="CUSTOM"===e.mode?e.durationSeconds??h.CUSTOM:h[e.mode]??h.SMOKE,a=t.length>0?t.map(([e,t])=>({key:e,value:"string"==typeof t?t:JSON.stringify(t??"")})):[{key:"",value:""}],r=p(s);H(e.projectId,()=>({label:`${e.label} copy`,targetUrl:e.targetUrl,mode:e.mode,scheduleAt:"",method:e.method??"GET",payload:e.payload??"",customVus:"number"==typeof e.customVus&&e.customVus>0?String(e.customVus):String(20),durationMinutes:r.minutes,durationSeconds:r.seconds,headers:a,showAdvanced:!0})),_("Task details loaded into the form. Adjust settings before saving."),I(null),window.scrollTo({top:0,behavior:"smooth"})},[I,_,H]),ee=(e,t)=>async()=>{if(_(null),I(null),!f){I("Select an organization before running tasks.");return}if(!D){I(`Insufficient credits. Running a task costs ${u.YK} credits.`);return}$(t);try{let s=await fetch(`/api/projects/${e}/tasks/${t}/run`,{method:"POST"});if(!s.ok){let e=await s.json().catch(()=>({}));I(e.error??"Failed to trigger task run.");return}let a=await s.json();_("completed"===a.status?"Task execution completed successfully.":"Task execution finished with errors."),await B(e),j.refresh()}catch(e){console.warn("Task run failed",e),I("Unexpected error starting task run.")}finally{$(null)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-[minmax(0,1fr)_minmax(0,1fr)]",children:[(0,a.jsxs)("div",{children:[a.jsx(i._,{className:"text-xs uppercase tracking-wide text-slate-400",children:"Organization"}),a.jsx("select",{value:f??"",onChange:e=>y(e.target.value||null),className:"mt-2 w-full rounded-lg border border-slate-800/70 bg-slate-950/70 px-3 py-2 text-sm text-slate-100",children:e.map(e=>a.jsx("option",{value:e.id,children:`${e.name} (${e.credits} credits)`},e.id))})]}),(0,a.jsxs)("div",{children:[a.jsx(i._,{className:"text-xs uppercase tracking-wide text-slate-400",children:"Project"}),a.jsx("select",{value:N??"",onChange:e=>w(e.target.value||null),className:"mt-2 w-full rounded-lg border border-slate-800/70 bg-slate-950/70 px-3 py-2 text-sm text-slate-100",disabled:R||0===v.length,children:v.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))})]})]}),K?(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:["Credits remaining for ",K.name,": ",K.credits]}):0===e.length?a.jsx("p",{className:"text-xs text-warning",children:"No organizations available. Create one before managing tasks."}):null,A?a.jsx(d.Zb,{className:"border border-slate-800/60 bg-emerald-500/10",children:a.jsx(d.aY,{className:"p-4 text-sm text-emerald-300",children:A})}):null,E?a.jsx(d.Zb,{className:"border border-danger/40 bg-danger/10",children:a.jsx(d.aY,{className:"p-4 text-sm text-danger",children:E})}):null,R?a.jsx(d.Zb,{className:"border-slate-800/70 bg-slate-950/60",children:a.jsx(d.aY,{className:"p-6 text-sm text-slate-400",children:"Loading projects…"})}):0===v.length?a.jsx(d.Zb,{className:"border-dashed border-slate-800/70 bg-slate-950/50",children:a.jsx(d.aY,{className:"p-6 text-sm text-slate-400",children:"No projects available. Create one from the Projects page to begin managing tasks."})}):null,N?(()=>{let e=Z(N);return(0,a.jsxs)(a.Fragment,{children:[Y?(0,a.jsxs)(d.Zb,{className:"border-slate-800/70 bg-slate-950/60",children:[(0,a.jsxs)(d.Ol,{children:[a.jsx(d.ll,{children:"Create task"}),(0,a.jsxs)(d.SZ,{children:["Configure a request and attach k6 options before launching a run. Cost:"," ",u.a," credits."]})]}),(0,a.jsxs)(d.aY,{children:[(0,a.jsxs)("form",{className:"grid gap-4 md:grid-cols-2",onSubmit:X(N),children:[(0,a.jsxs)("div",{children:[a.jsx(i._,{htmlFor:`task-label-${N}`,className:"text-xs uppercase tracking-wide text-slate-400",children:"Task label"}),a.jsx(o.I,{id:`task-label-${N}`,value:e.label,onChange:e=>V(N,"label",e.target.value),placeholder:"Homepage smoke",className:"mt-2 h-11 rounded-lg border-slate-800/70 bg-slate-950/70 text-slate-100 placeholder:text-slate-600",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx(i._,{htmlFor:`task-target-${N}`,className:"text-xs uppercase tracking-wide text-slate-400",children:"Target URL"}),a.jsx(o.I,{id:`task-target-${N}`,value:e.targetUrl,onChange:e=>V(N,"targetUrl",e.target.value),placeholder:"https://api.example.com/login",className:"mt-2 h-11 rounded-lg border-slate-800/70 bg-slate-950/70 text-slate-100 placeholder:text-slate-600",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx(i._,{htmlFor:`task-mode-${N}`,className:"text-xs uppercase tracking-wide text-slate-400",children:"Mode"}),a.jsx("select",{id:`task-mode-${N}`,value:e.mode,onChange:e=>V(N,"mode",e.target.value),className:"mt-2 h-11 w-full rounded-lg border border-slate-800/70 bg-slate-950/70 px-3 text-sm text-slate-100",children:m.map(e=>a.jsx("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[a.jsx(i._,{htmlFor:`task-schedule-${N}`,className:"text-xs uppercase tracking-wide text-slate-400",children:"Schedule at (optional)"}),a.jsx(o.I,{id:`task-schedule-${N}`,type:"datetime-local",value:e.scheduleAt,onChange:e=>V(N,"scheduleAt",e.target.value),className:"mt-2 h-11 rounded-lg border-slate-800/70 bg-slate-950/70 text-slate-100"})]}),(0,a.jsxs)("div",{className:"md:col-span-2 flex items-center justify-between rounded-lg border border-dashed border-slate-800/60 bg-slate-900/50 px-4 py-3",children:[a.jsx("p",{className:"text-xs text-slate-400",children:"Need custom headers, payloads, or methods?"}),a.jsx(n.z,{type:"button",variant:"secondary",className:"text-xs",onClick:()=>H(N,e=>({...e,showAdvanced:!e.showAdvanced})),children:e.showAdvanced?"Hide advanced":"Show advanced"})]}),e.showAdvanced?(0,a.jsxs)("div",{className:"md:col-span-2 space-y-4 rounded-lg border border-slate-800/60 bg-slate-900/50 p-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[a.jsx(i._,{htmlFor:`task-method-${N}`,className:"text-xs uppercase tracking-wide text-slate-400",children:"HTTP method"}),a.jsx("select",{id:`task-method-${N}`,value:e.method,onChange:e=>V(N,"method",e.target.value),className:"mt-2 h-11 w-full rounded-lg border border-slate-800/70 bg-slate-950/70 px-3 text-sm text-slate-100",children:x.map(e=>a.jsx("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[a.jsx(i._,{htmlFor:`task-payload-${N}`,className:"text-xs uppercase tracking-wide text-slate-400",children:"Request payload (optional)"}),a.jsx("textarea",{id:`task-payload-${N}`,value:e.payload,onChange:e=>V(N,"payload",e.target.value),className:"mt-2 min-h-[120px] w-full rounded-lg border border-slate-800/70 bg-slate-950/70 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-600",placeholder:'e.g. {"status":"ok"}'})]})]}),(()=>{let t="CUSTOM"===e.mode,s=h[e.mode]??h.SMOKE,r=t?{minutes:e.durationMinutes,seconds:e.durationSeconds}:p(s);return(0,a.jsxs)(a.Fragment,{children:[t?(0,a.jsxs)("div",{children:[a.jsx(i._,{htmlFor:`task-custom-vus-${N}`,className:"text-xs uppercase tracking-wide text-slate-400",children:"Custom virtual users"}),a.jsx(o.I,{id:`task-custom-vus-${N}`,type:"number",min:1,placeholder:"e.g. 250",value:e.customVus,onChange:e=>V(N,"customVus",e.target.value),className:"mt-2 h-11 rounded-lg border-slate-800/70 bg-slate-950/70 text-sm text-slate-100 placeholder:text-slate-600"}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Applied when mode is set to CUSTOM."})]}):null,(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[a.jsx(i._,{htmlFor:`task-duration-minutes-${N}`,className:"text-xs uppercase tracking-wide text-slate-400",children:"Duration (minutes)"}),a.jsx(o.I,{id:`task-duration-minutes-${N}`,type:"number",min:0,value:r.minutes,onChange:e=>V(N,"durationMinutes",e.target.value),className:"mt-2 h-11 rounded-lg border-slate-800/70 bg-slate-950/70 text-sm text-slate-100 placeholder:text-slate-600",disabled:!t})]}),(0,a.jsxs)("div",{children:[a.jsx(i._,{htmlFor:`task-duration-seconds-${N}`,className:"text-xs uppercase tracking-wide text-slate-400",children:"Duration (seconds)"}),a.jsx(o.I,{id:`task-duration-seconds-${N}`,type:"number",min:0,max:59,value:r.seconds,onChange:e=>V(N,"durationSeconds",e.target.value),className:"mt-2 h-11 rounded-lg border-slate-800/70 bg-slate-950/70 text-sm text-slate-100 placeholder:text-slate-600",disabled:!t})]})]}),a.jsx("p",{className:"text-xs text-slate-500",children:t?"Duration applies when using custom scenarios. Seconds are clamped between 0 and 59.":"Duration is derived from the selected scenario and cannot be edited."})]})})(),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Request headers"}),a.jsx(n.z,{type:"button",variant:"ghost",className:"text-xs",onClick:()=>H(N,e=>({...e,headers:[...e.headers,{key:"",value:""}]})),children:"Add header"})]}),a.jsx("div",{className:"space-y-2",children:e.headers.map((e,t)=>(0,a.jsxs)("div",{className:"grid gap-2 md:grid-cols-[minmax(0,1fr)_minmax(0,1fr)_auto]",children:[a.jsx(o.I,{placeholder:"Header name",value:e.key,onChange:e=>H(N,s=>{let a=[...s.headers];return a[t]={...a[t],key:e.target.value},{...s,headers:a}}),className:"h-10 rounded-lg border-slate-800/70 bg-slate-950/70 text-slate-100"}),a.jsx(o.I,{placeholder:"Header value",value:e.value,onChange:e=>H(N,s=>{let a=[...s.headers];return a[t]={...a[t],value:e.target.value},{...s,headers:a}}),className:"h-10 rounded-lg border-slate-800/70 bg-slate-950/70 text-slate-100"}),a.jsx(n.z,{type:"button",variant:"ghost",className:"justify-self-end text-xs",onClick:()=>H(N,e=>{let s=e.headers.filter((e,s)=>s!==t);return{...e,headers:s.length>0?s:[{key:"",value:""}]}}),children:"Remove"})]},`${N}-header-${t}`))})]})]}):null,a.jsx("div",{className:"md:col-span-2 flex justify-end",children:a.jsx(n.z,{type:"submit",className:"h-11 rounded-lg px-5",disabled:!e.label.trim()||!e.targetUrl.trim()||q||!L,children:"Create task"})})]}),L?null:(0,a.jsxs)("p",{className:"mt-3 text-xs text-warning",children:["Insufficient credits. You need ",u.a," credits to create a task in this organization."]})]})]}):null,K&&!D?(0,a.jsxs)("p",{className:"text-xs text-warning",children:["Running a task costs ",u.YK," credits. Top up to trigger executions in this organization."]}):null,q?a.jsx(d.Zb,{className:"border-slate-800/70 bg-slate-950/60",children:a.jsx(d.aY,{className:"p-6 text-sm text-slate-400",children:"Loading tasks…"})}):0===S.length?a.jsx(d.Zb,{className:"border-dashed border-slate-800/70 bg-slate-950/50",children:(0,a.jsxs)(d.aY,{className:"p-6 text-sm text-slate-400",children:["No tasks yet. ",Y?"Create one using the form above.":"Tasks will appear once created by an owner."]})}):S.map(e=>{let t=T[e.id]??[],s=t[0],r=e.headers&&"object"==typeof e.headers?Object.keys(e.headers).length:0,l="string"==typeof e.payload&&e.payload.length>0;return(0,a.jsxs)(d.Zb,{className:"border-slate-800/70 bg-slate-900/60",children:[a.jsx(d.Ol,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-semibold text-slate-200 flex items-center gap-2",children:[e.label,a.jsx(c.C,{variant:"default",className:"bg-slate-800/70 text-[10px] uppercase",children:e.method})]}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:["Mode: ",e.mode," • Target: ",e.targetUrl]}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:["Headers: ",r," • Payload: ",l?"Yes":"No"]})]}),Y?(0,a.jsxs)("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:flex-row",children:[a.jsx(n.z,{variant:"secondary",className:"w-full sm:w-auto",onClick:ee(e.projectId,e.id),disabled:U===e.id||!D,children:U===e.id?"Running…":"Run task"}),a.jsx(n.z,{type:"button",variant:"ghost",className:"w-full sm:w-auto",onClick:()=>Q(e),children:"Duplicate"})]}):null]})}),(0,a.jsxs)(d.aY,{className:"space-y-3",children:[e.scheduleAt?(0,a.jsxs)(c.C,{variant:"warning",children:["Scheduled: ",new Date(e.scheduleAt).toLocaleString()]}):a.jsx(c.C,{variant:"default",className:"bg-surface-muted/80 text-slate-200",children:"On-demand"}),0===t.length?a.jsx("p",{className:"rounded-lg border border-dashed border-emerald-500/30 bg-emerald-500/5 px-4 py-3 text-xs text-emerald-200",children:"No runs yet. Trigger a task run to capture performance metrics."}):null,s?(0,a.jsxs)("div",{className:"rounded-lg border border-emerald-500/40 bg-emerald-500/10 px-4 py-3 text-xs text-emerald-200 space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-semibold text-emerald-200",children:"Last run summary"}),(0,a.jsxs)("p",{className:"text-emerald-100",children:["Status: ",a.jsx("span",{className:"uppercase",children:s.status})," • Started:"," ",new Date(s.startedAt).toLocaleString(),s.completedAt?` • Completed: ${new Date(s.completedAt).toLocaleString()}`:""]})]}),s.summaryJson?.scenario?(0,a.jsxs)("p",{children:["Mode: ",s.summaryJson.scenario.mode," • Requests:"," ",s.summaryJson.scenario.totalRequests??"—"]}):null,s.summaryJson?.metrics?(0,a.jsxs)("p",{children:["Avg: ",W(s.summaryJson.metrics.averageMs)," • P95:"," ",W(s.summaryJson.metrics.p95Ms)," • Success rate:"," ",s.summaryJson.metrics.successRate??"—","%"]}):null,s.summaryJson?.results?(0,a.jsxs)("p",{children:["Requests:"," ",s.summaryJson.results.totalRequests," • Success:"," ",s.summaryJson.results.successCount," • Failures:"," ",s.summaryJson.results.failureCount]}):null,(()=>{let t=s.summaryJson?.request;if(!t)return(0,a.jsxs)("p",{children:["Method: ",e.method," • Headers: ",r," • Payload: ",l?"Yes":"No"]});let n=t.headers&&"object"==typeof t.headers?Object.keys(t.headers).length:0;return(0,a.jsxs)("p",{children:["Method: ",t.method??e.method," • Headers: ",n," • Payload: ",t.hasPayload?"Yes":"No"]})})(),t.length>1?(0,a.jsxs)("details",{className:"text-[11px] text-emerald-100/80",children:[(0,a.jsxs)("summary",{className:"cursor-pointer",children:["Run history (",t.length,")"]}),a.jsx("div",{className:"mt-2 space-y-2",children:t.slice(1).map(t=>{let s=t.summaryJson?.request,r=s?.headers&&"object"==typeof s.headers?Object.keys(s.headers).length:0;return(0,a.jsxs)("div",{className:"rounded border border-emerald-500/20 bg-emerald-500/5 px-3 py-2",children:[(0,a.jsxs)("p",{children:[new Date(t.startedAt).toLocaleString()," •"," ",a.jsx("span",{className:"uppercase",children:t.status})]}),t.summaryJson?.metrics?(0,a.jsxs)("p",{children:["Avg: ",W(t.summaryJson.metrics.averageMs)," • Success:"," ",t.summaryJson.metrics.successRate??"—","%"]}):null,s?(0,a.jsxs)("p",{children:["Method: ",s.method??e.method," • Headers: ",r," • Payload:"," ",s.hasPayload?"Yes":"No"]}):null]},t.id)})})]}):null,s.summaryJson?.raw?(0,a.jsxs)("details",{className:"text-[11px] text-emerald-100/80",children:[a.jsx("summary",{className:"cursor-pointer",children:"Raw metrics"}),a.jsx("pre",{className:"mt-2 max-h-48 overflow-auto rounded-lg border border-emerald-500/20 bg-black/40 p-3 text-[10px] text-slate-200",children:JSON.stringify(s.summaryJson.raw,null,2)})]}):null]}):null]})]},e.id)})]})})():null]})}},9591:(e,t,s)=>{"use strict";s.d(t,{C:()=>n});var a=s(5344),r=s(1453);let l={default:"bg-surface-muted text-slate-200",success:"bg-success/20 text-success border border-success/40",warning:"bg-warning/20 text-warning border border-warning/40",danger:"bg-danger/20 text-danger border border-danger/40"};function n({className:e,variant:t="default",...s}){return a.jsx("span",{className:(0,r.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium uppercase tracking-wide",l[t],e),...s})}},3673:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>n,SZ:()=>o,Zb:()=>l,aY:()=>i,ll:()=>d});var a=s(5344),r=s(1453);function l({className:e,children:t,...s}){return a.jsx("div",{className:(0,r.cn)("rounded-xl border border-slate-800/80 bg-surface-subtle/80 shadow-card backdrop-blur-sm",e),...s,children:t})}function n({className:e,children:t}){return a.jsx("div",{className:(0,r.cn)("border-b border-slate-800/40 px-6 py-4",e),children:t})}function d({className:e,children:t}){return a.jsx("h3",{className:(0,r.cn)("text-lg font-semibold text-slate-100",e),children:t})}function o({className:e,children:t}){return a.jsx("p",{className:(0,r.cn)("text-sm text-slate-400",e),children:t})}function i({className:e,children:t}){return a.jsx("div",{className:(0,r.cn)("px-6 py-5",e),children:t})}},6540:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});var a=s(5344),r=s(3729),l=s(1453);let n=(0,r.forwardRef)(({className:e,type:t="text",...s},r)=>a.jsx("input",{ref:r,type:t,className:(0,l.cn)("w-full rounded-md border border-slate-800 bg-background-subtle px-3 py-2 text-sm text-slate-100 shadow-sm transition focus:border-accent-soft focus:ring-2 focus:ring-accent-soft/60",e),...s}));n.displayName="Input"},7361:(e,t,s)=>{"use strict";s.d(t,{_:()=>l});var a=s(5344),r=s(1453);function l({className:e,...t}){return a.jsx("label",{className:(0,r.cn)("block text-sm font-medium text-slate-300 tracking-wide",e),...t})}},6813:(e,t,s)=>{"use strict";s.d(t,{YK:()=>l,a:()=>r,kb:()=>n,zm:()=>a});let a=15,r=5,l=5,n=2},2974:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(5036),r=s(7439),l=s(6843);let n=(0,l.createProxy)(String.raw`/Users/rizkyakbar/Projects/mine/LoadTest/load-test-client/src/components/dashboard/tasks-board.tsx`),{__esModule:d,$$typeof:o}=n;n.default;let i=(0,l.createProxy)(String.raw`/Users/rizkyakbar/Projects/mine/LoadTest/load-test-client/src/components/dashboard/tasks-board.tsx#TasksBoard`);var c=s(3560),u=s(2002);async function m({searchParams:e}){let t="http://localhost:3001",s=r.cookies().get("lt_token")?.value,l="string"==typeof e?.organizationId?e?.organizationId:void 0,n="string"==typeof e?.projectId?e?.projectId:void 0,[d,o]=await Promise.all([(0,c.ZC)(t,s),(0,u.k)(t,s)]);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[a.jsx("h2",{className:"text-2xl font-semibold text-slate-100",children:"Tasks"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Manage task definitions, configure advanced request options, and execute load scenarios for any project you have access to."})]}),a.jsx(i,{organizations:d,currentUser:o,initialOrganizationId:l,initialProjectId:n})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,439,356,630,743],()=>s(5343));module.exports=a})();