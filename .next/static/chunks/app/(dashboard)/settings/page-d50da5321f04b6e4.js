(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{3674:function(e,t,s){Promise.resolve().then(s.bind(s,5431))},5431:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var r=s(3827),n=s(4090),a=s(5671),o=s(575),c=s(2782),l=s(2647);function i(){let[e,t]=(0,n.useState)(""),[s,i]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[f,p]=(0,n.useState)({type:"idle"}),[m,x]=(0,n.useState)(!1),b=async r=>{if(r.preventDefault(),p({type:"idle"}),s!==d){p({type:"error",message:"New password and confirmation must match."});return}x(!0);try{var n,a;let r=await fetch("/api/account/password",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({oldPassword:e,newPassword:s})}),o=await r.json().catch(()=>({}));if(!r.ok){p({type:"error",message:null!==(n=o.error)&&void 0!==n?n:"Unable to update password."});return}p({type:"success",message:null!==(a=o.message)&&void 0!==a?a:"Password updated successfully."}),t(""),i(""),u("")}catch(e){console.warn("Failed to update password",e),p({type:"error",message:"Unexpected error updating password."})}finally{x(!1)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-slate-100",children:"Account Settings"}),(0,r.jsx)("p",{className:"text-sm text-slate-400",children:"Update your password to keep your account secure."})]}),(0,r.jsxs)(a.Zb,{className:"border-slate-800/70 bg-slate-950/60",children:[(0,r.jsxs)(a.Ol,{children:[(0,r.jsx)(a.ll,{children:"Change password"}),(0,r.jsx)(a.SZ,{children:"Enter your current password and choose a new one."})]}),(0,r.jsx)(a.aY,{children:(0,r.jsxs)("form",{className:"space-y-4",onSubmit:b,children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"current-password",children:"Current password"}),(0,r.jsx)(c.I,{id:"current-password",type:"password",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"new-password",children:"New password"}),(0,r.jsx)(c.I,{id:"new-password",type:"password",value:s,onChange:e=>i(e.target.value),minLength:8,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"confirm-password",children:"Confirm new password"}),(0,r.jsx)(c.I,{id:"confirm-password",type:"password",value:d,onChange:e=>u(e.target.value),minLength:8,required:!0})]}),"error"===f.type?(0,r.jsx)("p",{className:"rounded-md border border-danger/40 bg-danger/10 px-3 py-2 text-sm text-danger",children:f.message}):null,"success"===f.type?(0,r.jsx)("p",{className:"rounded-md border border-emerald-400/40 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-300",children:f.message}):null,(0,r.jsx)(o.z,{type:"submit",disabled:m,className:"w-full sm:w-auto",children:m?"Savingâ€¦":"Save changes"})]})})]})]})}},575:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var r=s(3827),n=s(4090),a=s(2169);let o={primary:"bg-accent-strong text-slate-950 hover:bg-accent-soft disabled:bg-accent-soft/50 disabled:text-slate-900/60",secondary:"bg-surface-muted text-slate-100 hover:bg-surface-subtle disabled:opacity-60 border border-slate-700/60",ghost:"bg-transparent text-slate-300 hover:bg-surface-subtle/50 disabled:opacity-40"},c=(0,n.forwardRef)((e,t)=>{let{className:s,variant:n="primary",type:c="button",...l}=e;return(0,r.jsx)("button",{ref:t,type:c,className:(0,a.cn)("inline-flex items-center justify-center rounded-md text-sm font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-soft focus-visible:ring-offset-2 focus-visible:ring-offset-background",o[n],"px-4 py-2",s),...l})});c.displayName="Button"},5671:function(e,t,s){"use strict";s.d(t,{Ol:function(){return o},SZ:function(){return l},Zb:function(){return a},aY:function(){return i},ll:function(){return c}});var r=s(3827),n=s(2169);function a(e){let{className:t,children:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("rounded-xl border border-slate-800/80 bg-surface-subtle/80 shadow-card backdrop-blur-sm",t),...a,children:s})}function o(e){let{className:t,children:s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("border-b border-slate-800/40 px-6 py-4",t),children:s})}function c(e){let{className:t,children:s}=e;return(0,r.jsx)("h3",{className:(0,n.cn)("text-lg font-semibold text-slate-100",t),children:s})}function l(e){let{className:t,children:s}=e;return(0,r.jsx)("p",{className:(0,n.cn)("text-sm text-slate-400",t),children:s})}function i(e){let{className:t,children:s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("px-6 py-5",t),children:s})}},2782:function(e,t,s){"use strict";s.d(t,{I:function(){return o}});var r=s(3827),n=s(4090),a=s(2169);let o=(0,n.forwardRef)((e,t)=>{let{className:s,type:n="text",...o}=e;return(0,r.jsx)("input",{ref:t,type:n,className:(0,a.cn)("w-full rounded-md border border-slate-800 bg-background-subtle px-3 py-2 text-sm text-slate-100 shadow-sm transition focus:border-accent-soft focus:ring-2 focus:ring-accent-soft/60",s),...o})});o.displayName="Input"},2647:function(e,t,s){"use strict";s.d(t,{_:function(){return a}});var r=s(3827),n=s(2169);function a(e){let{className:t,...s}=e;return(0,r.jsx)("label",{className:(0,n.cn)("block text-sm font-medium text-slate-300 tracking-wide",t),...s})}},2169:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(3167);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.W)(t)}},3167:function(e,t,s){"use strict";function r(){for(var e,t,s=0,r="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=function e(t){var s,r,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(r=e(t[s]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r)}return n}(e))&&(r&&(r+=" "),r+=t);return r}s.d(t,{W:function(){return r}})}},function(e){e.O(0,[971,69,744],function(){return e(e.s=3674)}),_N_E=e.O()}]);